{% extends "base.html" %}

{% block content %}

<h1>Select a package to unpack</h1>

<form method="POST" action="{{ url_for('unpack') }}" enctype="multipart/form-data">
  <div class="form-group">
    <label for="rpz_file">Upload a file</label>
    <input type="file" class="form-control" id="rpz_file" name="rpz_file" placeholder="experiment.rpz">
  </div>
  <div class="form-group">
    <label for="rpz_url">or provide a package's URL</label>
    <input type="text" class="form-control" id="rpz_url" name="rpz_url" placeholder="http://experiment.rpz" disabled>
  </div>
  <button type="submit" class="btn btn-default">Unpack</button>
</form>

<hr/>

<h2>How to Use This Site</h2>
<p>This site allows you to run reproducible research packaged with <a href="https://reprozip.org/">ReproZip</a> directly from your browser. Upload your own <code>.rpz</code> file and click the "Unpack" button!</p>

<p>From there, you can set parameters and (optionally) upload your own inputs, and then reproduce the work by clicking the "Run" button. You can then see the log and output files from the research, which you can view or download to your machine. You can also share the link for other people to reproduce your research.</p>

<p>In the future, you will be able to simply provide a link to a <code>.rpz</code> file from a repository, and unpack and rerun it from there. Stay tuned!</p>

<p>You can also choose one of the examples below to test it out!</p>

<h2>Examples</h2>
{% if examples %}

  {% for example in examples %}

<p><a href="{{ url_for_upload(example.upload) }}">{{ example.upload.filename }}</a>: {{ example.description }}</p>

  {% endfor %}

{% else %}

<p>No examples on this server yet.</p>

{% endif %}

{% endblock content %}
